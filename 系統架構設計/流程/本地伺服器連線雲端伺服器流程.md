## 本地伺服器連線雲端伺服器流程

1. 用戶 App 以 Facebook/Google+/Email 向雲端伺服器註冊:
    1. 雲端伺服器建立用戶基本資料，記錄 Facebook/Google+/Email 關聯資訊，回覆用戶帳號及密碼。
    1. 允許一個用戶帳號關聯多個外部認證，如 Facebook、Google+ ...。

1. 用戶將已註冊的本地伺服器資訊 (允許多個) 送往雲端伺服器:
    1. 雲端系檢查對應的本地伺服器是否已註冊，若尚未則送出本地伺服器註冊用授權碼。
    1. 若本地伺服器已註冊則顯示已註冊，本地伺服器不用再次註冊。

1. 用戶收到本地伺服器到雲端伺服器的註冊授權碼:
    1. 以本地伺服器網頁輸入授權碼連線到雲端伺服器請求註冊。
    1. 或以 App 經由本地 Web API 向雲端伺服器請求註冊。
    1. 本地伺服器向雲端伺服器註冊成功後 (MQTT):
        * 送出本地模組/設備/功能組態及用戶基本資料到雲端伺服器。
        * 雲端伺服器儲存本地伺服器組態狀態及關聯現有用戶帳號資訊。

